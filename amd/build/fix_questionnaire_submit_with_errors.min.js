define(["jquery"],function(e){var n={fixQuestionnaireSubmitWithErrors:function(){function n(e,n,t,i,o){try{t?"date"==o?(n.next(".qn-content").children(".qn-answer").prepend('<div class="notifyproblem" role="status"></div>'),n.next(".qn-content").children(".qn-answer").find(".notifyproblem").html("The date entered: <strong>"+i+"</strong> does not correspond to the format shown in the example."),e.push("#"+n.find("h2.qn-number").html())):"numeric"==o&&(n.next(".qn-content").children(".qn-answer").prepend('<div class="notifyproblem" role="status"></div>'),n.next(".qn-content").children(".qn-answer").find(".notifyproblem").html("<strong>"+i+"</strong> is not an accepted number format."),e.push("#"+n.find("h2.qn-number").html())):e.push("#"+n.find("h2.qn-number").html())}catch(e){}}try{e("#phpesp_response").submit(function(t){e(".notifyproblem").remove();var i=[],o=[],s=0;if(e("#phpesp_response").find(".qn-container").each(function(){var t=e(this).children(".qn-legend");t.has("img.req")&&t.find("img.req").length>0&&t.next(".qn-content").find(".qn-answer").each(function(){var r=e(this);r.has(":input, select")&&r.find(":input").length>0&&r.find(":input, select").each(function(){switch(e(this)[0].type){case"text":case"select-one":case"select-multiple":inputval=e(this).val(),""==e(this).val()?(n(i,t),s++):e(this).parent().hasClass("qn-date")?""==inputval?(n(i,t),s++):/^([1-9]|[12][0-9]|3[01])(\/)([1-9]|1[012])(\/)(\d{4})$/.test(inputval)||(n(o,t,!0,inputval,"date"),s++):-1!=e(this).attr("id").toLowerCase().indexOf("numeric")&&(/^\d+$/.test(inputval)||(n(o,t,!0,inputval,"numeric"),s++));break;case"radio":case"checkbox":r.find('input[type="radio"],input[type="checkbox"]').is(":checked")||(n(i,t),s++)}})})}),s>0){t.preventDefault();var r=e(".mod_questionnaire_completepage").find("h3:first");if(console.log(r),r.after('<div class="notifyproblem" role="status"></div>'),o.length>0&&i.length>0){var l="",a="";a=i.length>1?"Please answer Required questions: ":"Please answer Required question: ",l=o.length>1?"<br> There is something wrong with your answers to questions: ":"<br>There is something wrong with your answer to question: ",r.next(".notifyproblem").html(a+e.unique(i).join(". ")+l+e.unique(o).join(". ")+"."),r.next(".notifyproblem")[0].scrollIntoView(!1)}else if(o.length>0){a="";a=o.length>1?"There is something wrong with your answers to questions: ":"There is something wrong with your answer to question: ",r.next(".notifyproblem").html(a+e.unique(o).join(". ")+"."),r.next(".notifyproblem")[0].scrollIntoView(!1)}else if(i.length>0){a="";a=i.length>1?"Please answer Required questions: ":"Please answer Required question: ",r.next(".notifyproblem").html(a+e.unique(i).join(". ")+"."),r.next(".notifyproblem")[0].scrollIntoView(!1)}}})}catch(e){}}};return n});